<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TRAVEL CITY</title>
    <!-- Box-icon -->
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/Public/Style/tours.css" />
  </head>
  <body>
    <nav>
      <div class="nav__logo container"><a href="/home">Travel</a></div>
    </nav>
    <section class="home" id="home">
      <div class="home-text container">
        <h2 class="home-title">Travel Tours</h2>
        <span class="home-subtitle">Your source of great content</span>
      </div>
    </section>
    <h2 class="h_title">Your packages</h2>
    <div class="post container">
      <!-- Post 1 -->
      <!-- <div class="post-box">
        <img
          src="https://images.pexels.com/photos/533937/pexels-photo-533937.jpeg?auto=compress&cs=tinysrgb&w=600"
          alt=""
          class="post-img"
        />
        <h2 class="category"><i class="bx bxs-map bx-xs">HCM</i></h2>
        <a href="#" class="post-title">Hồ Chí Minh</a>
        <p class="post-description">
          Lorem ipsum dolor sit, amet consectetur adipisicing elit.
        </p>
        <div class="card_btn">book now</div>
      </div> -->
    </div>

    <footer class="footer">
      <div class="cont">
        <div class="row">
          <div>
            <h2>Smart City Travel</h2>
            <p>
              Travel makes one modest. You see what a tiny place you occupy in
              the world.
            </p>
          </div>
          <div>
            <h4>Menu</h4>
            <ul>
              <li><a href="#">Home</a></li>
              <li><a href="#">Blog</a></li>
              <li><a href="#">Tours</a></li>
              <li><a href="#">Services</a></li>
              <li><a href="#">Contacts</a></li>
            </ul>
          </div>
          <div>
            <h4>Details</h4>
            <ul>
              <li><a href="#">Travel</a></li>
              <li><a href="#">Place : HCM</a></li>
              <li><a href="#">Phone : 0123456789</a></li>
              <li><a href="#">Gmail : hh@gmail.com</a></li>
            </ul>
          </div>
          <div>
            <h4>Contacts</h4>
            <div class="socialButton">
              <a><i class="bx bxl-instagram-alt"></i></a>
              <a><i class="bx bxl-facebook"></i></a>
              <a><i class="bx bxl-twitter"></i></a>
              <a><i class="bx bxl-discord-alt"></i></a>
            </div>
          </div>
        </div>
      </div>
      <div class="copyright">
        <p>Welcome to Travel</p>
      </div>
    </footer>
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
    <script>
      $(document).ready(function () {
        $.ajax({
          url: "/api/tours", // Assuming this is the correct endpoint for your tours
          method: "GET",
          success: function (data) {
            // Iterate over the tour data and display it on the page
            const postContainer = $(".post");

            data.forEach((tour) => {
              const postBox = $("<div>").addClass("post-box");
              const img = $("<img>")
                .attr("src", tour.image)
                .addClass("post-img")
                .attr("alt", "");
              const category = $("<h2>")
                .addClass("category")
                .html(`<i class="bx bxs-map bx-xs">${tour.place}</i>`);
              const title = $("<a>")
                .attr("href", "#")
                .addClass("post-title")
                .text(tour.name);
              const description = $("<p>")
                .addClass("post-description")
                .text(tour.title);
              const cardBtn = $("<div>")
                .addClass("card_btn")
                .text("book now")
                .click(function () {
                  window.open(
                    `https://www.google.com/maps/search/?api=1&query=${tour.place}`
                  );
                });

              postBox.append(img, category, title, description, cardBtn);
              postContainer.append(postBox);
            });
          },
          error: function (error) {
            console.error(error);
          },
        });
      });
      // document.addEventListener("DOMContentLoaded", async function () {
      //   try {
      //     // Gọi API để lấy danh sách các tour từ server
      //     const response = await fetch("/api/tours");
      //     const tours = await response.json();

      //     // Lặp qua từng tour và hiển thị thông tin trên trang
      //     const postContainer = document.querySelector(".post");
      //     tours.forEach((tour) => {
      //       const postBox = document.createElement("div");
      //       postBox.className = "post-box";

      //       const img = document.createElement("img");
      //       img.src = tour.image;
      //       img.alt = "";
      //       img.className = "post-img";

      //       const category = document.createElement("h2");
      //       category.className = "category";
      //       category.innerHTML = `<i class="bx bxs-map bx-xs">${tour.place}</i>`;

      //       const title = document.createElement("a");
      //       title.href = "#";
      //       title.className = "post-title";
      //       title.textContent = tour.name;

      //       const description = document.createElement("p");
      //       description.className = "post-description";
      //       description.textContent = tour.title;

      //       const cardBtn = document.createElement("div");
      //       cardBtn.className = "card_btn";
      //       cardBtn.textContent = "book now";

      //       // Add click event listener to the "Map" button
      //       cardBtn.addEventListener("click", function () {
      //         // Open Google Maps with the destination coordinates
      //         window.open(
      //           `https://www.google.com/maps/search/?api=1&query=${tour.place}`
      //         );
      //       });

      //       postBox.appendChild(img);
      //       postBox.appendChild(category);
      //       postBox.appendChild(title);
      //       postBox.appendChild(description);
      //       postBox.appendChild(cardBtn);

      //       postContainer.appendChild(postBox);
      //     });
      //   } catch (error) {
      //     console.error("Error fetching data:", error.message);
      //   }
      // });
    </script>
  </body>
</html>
